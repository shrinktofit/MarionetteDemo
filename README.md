
# DEMO 项目：阿摩依小姐（Ms.Amoy）

本项目是为了演示 Cocos Creator Marionette 动画系统的使用。

## 介绍

整个项目仅有一个主场景，位于 `assets/Scenes/Main.scene`。

游戏启动后，玩家以第一视角操控角色“阿摩依小姐”（以下称为主角）进行简单的战斗。

### 总则

本项目应该关注动作的连贯程度——几乎所有的动作切换都是平滑的。

### 怪物

场景中会生成数个怪物角色，它们的行为如下：

- 待机，并在待机随机时间后移动至随机地点。

- 一旦发现主角接近，会进入战斗模式，追逐主角。

  - 与主角距离足够接近并完全面向主角后，将开始攻击。

  - 与主角距离过远时会重新进入待机状态。

### 主角

主角可由玩家自由操控：

  - 【有鼠标设备时】通过鼠标右键移动转动人物面向，通过鼠标左键移动转动摄像头角度，通过鼠标滚轮调整摄像机距离。

  - 【无鼠标设备时】通过单个触摸点左右移动转动人物面向，通过两个触摸点（近似地）同向移动转动摄像头角度，通过两个触摸点拉近或者拉远调整摄像机距离。

  - 通过轮盘 ![Image description](./docs/Joystick.png "title")来操纵移动方向。（不改变面向）

  - 通过按钮 ![Image description](./docs/Attack.png "title")进行攻击。

  - 通过按钮 ![Image description](./docs/Bullet.png "title")进行换子弹（仅表现，无相关实在逻辑）。

  - 通过按钮 ![Image description](./docs/Crouch.png "title")蹲伏或取消蹲伏。

  - 通过按钮 ![Image description](./docs/Jump.png "title")跳跃。

  - 通过按钮 ![Image description](./docs/Aim.png "title")切换瞄准模式或取消瞄准模式。

有以下规则需要注意：

  - 蹲伏和站立模式下都可以进行瞄准和非瞄准。

  - 蹲伏和战力模式下都可以进行移动，但是移动的动作是不一样的。

  - 切换到普通待机并等候片刻后，会切换至另一个普通待机动作。

### 战斗系统

- 无论是主角还是怪物，攻击都具有方向性和距离限制。怪物在发动攻击动作 0.5 秒（前摇）后，若方向和距离都满足，则造成实际伤害。而主角攻击没有前摇。

- 无论是主角还是怪物，受到伤害后会播放相应动作。

- 发出攻击后，伤害的判定不会因为切换了其它动作（比如受伤害）被打断。

## 已知问题

- 无论是怪物还是主角，受击时可以进行不真实的移动（滑步）。

## 什么是阿摩依？

阿摩依音译自 Amoy，而 Amoy 是中国厦门市的英译。
